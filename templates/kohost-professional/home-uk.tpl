<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/css/style.css" />
    <title>Landing Page</title>

    <style>
      section#main-body {
          padding: 0 !important;
      }
      .container {
        width: 100% !important;
        padding: 0 !important;
      }
      .row {
        margin: 0 !important;
      }
      .col-xs-12.main-content{
        padding: 0 !important;
      }
    </style>
  </head>
  <body>
    <section class="hero-section border-bottom border-bottom-invert bg-black">
   <!--   <div class="video-container">
        <video autoplay playsinline muted loop>
          <source
            src="https://www.dropbox.com/scl/fi/9zqvy1lqtvhyu8xcynb7v/tvhub-preview.mp4?rlkey=46wk3yvi45hii7fo9szmpvohi&raw=1"
            type="video/mp4"
          />
        </video>
      </div>-->

      <section class="section">
        <h1>
          <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/Maple_Leaf.svg.png" alt="mapple leaf" style="width: 4rem" /> Unleash
          Canadian Entertainment Excellence with IPTV Canada!
          <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/Maple_Leaf.svg.png" alt="mapple leaf" style="width: 4rem" />
        </h1>
        <p>
          Welcome to a new era of television, designed exclusively for the true Canadian
          connoisseur! Optimedia is not just an IPTV service; it's a gateway to an unparalleled
          world of entertainment, perfectly curated for our Canadian audience
        </p>
        <button class="custom-btn">Get Started</button>
      </section>
    </section>

    <section class="product-section border-bottom bg-black text-secondary">
      <article>
        <h3 class="text-center">
          <span class="text-primary">3 months free IPTV</span> subscription with every
          <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/tvhub_logo.png" alt="" class="logo" /> media player
        </h3>
        <p>
          Unlock a world of endless entertainment possibilities with the TVHub Media Player with 3 months of free iptv service from IPTV Canada. The
          ultimate choice for your home entertainment cener. Packed with cutting-edge features and
          user-friendly functionalities, TvHub is designed to revolutionize the way you enjoy your
          favorite content. Here are the standout features that make TVHub the perfect choice for
          all your media playback needs.
        </p>
      </article>

      <section class="logos-container">
        <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/tvhub_logo.png" alt="tvhub_logo" class="logo" loading="lazy"/><img
          src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/androidtv_logo.png"
          alt="androidtv_logo"
          class="logo"
        />
        <h3>media player</h3>
      </section>

      <figure style="max-width: 50rem; margin-inline: auto; margin-bottom: 8rem">
        <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/google.jpeg" alt="" loading="lazy"/>
      </figure>


      <section class="tv-container">

        <video poster="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/androidtv.png" controls preload="none">
          <source
            src="https://www.dropbox.com/scl/fi/9zqvy1lqtvhyu8xcynb7v/tvhub-preview.mp4?rlkey=46wk3yvi45hii7fo9szmpvohi&raw=1"
            type="video/mp4"
          />
          Your browser does not support the video tag.
        </video>

        <figure class="tv-img">
          <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/tv.png" alt="" loading="lazy" />
        </figure>
      </section>

      <article class="text-center">
        <h3>TvHub IPTV Media Player</h3>
        <p style="max-width: 50rem; margin-inline: auto">
          Watch live TV, movies, TV series, and even record live TV with TVHub IPTV Player. Enjoy a
          wide variety of content ,including live broadcasts and on-demand options, all within the
          same platform.
        </p>
      </article>

      <h3 class="text-center" style="text-decoration: underline">
        Transform your living room into an entertainment hub with TVHub media player today
      </h3>

      <section class="product-logos">
        <a href="#">
          <figure class="product">
            <figcaption>TVHub Stnard</figcaption>
            <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/tvhublite.png" alt="tvhublite" loading="lazy" />
          </figure>
        </a>
        <a href="#">
          <figure class="product">
            <figcaption>TVHub Elite</figcaption>
            <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/tvhub_elite.png" alt="tvhub_elite" loading="lazy"/>
          </figure>
        </a>
        <a href="#">
          <figure class="product">
            <figcaption>TVHub Ultimate</figcaption>
            <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/tvhub_ultimate.png" alt="tvhub_ultimate" loading="lazy"/>
          </figure>
        </a>
        <a href="#">
          <figure class="product">
            <figcaption>TVHub Ultra</figcaption>
            <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/tvhub_ultra.png" alt="tvhub_ultra" loading="lazy" />
          </figure>
        </a>
      </section>

      <p class="text-center">
        <button class="custom-btn">Start Streaming Now with TVHub</button>
      </p>
    </section>

    <main>
      <section class="border-bottom padding-y border-bottom-invert">
        <section class="section flex superior-section">
          <article class="flex-grow-1-3">
            <h2>Superior live and Video-On-Demand IPTV Experience Only with IPTV Canada</h2>
            <ul class="list">
              <li>
                <strong><b>Canadian Content Galore:</b></strong> Immerse yourself in the richness of Canadian entertainment.
                From the iconic landscapes of the Rockies to the vibrant culture of Toronto, our
                IPTV service brings you the best Canadian channels, ensuring you never miss a moment
                of home.
              </li>
              <li>
                <strong><b>Global Channels with a Canadian Twist:</b></strong> Explore a vast array of international
                channels, all with a Canadian touch. Stay connected to the world while savoring the
                warmth of Canadian hospitality.
              </li>
              <li>
                <strong><b>Sports Fan's Paradise:</b></strong> Cheer for your favorite Canadian teams and athletes with our
                comprehensive sports coverage. From the NHL to the CFL, experience the thrill of
                victory in the comfort of your home.
              </li>
              <li>
                <strong><b>Cinematic Brilliance in HD:</b></strong> Transform your living room into a private theater with
                our high-definition content. Every detail comes to life, delivering a cinematic
                experience that will leave you in awe.
              </li>
              <li>
                <strong><b>Family-Friendly and Multi-Device Access:</b></strong> Keep the entire family entertained with our
                diverse programming. And with multi-device access, everyone can enjoy their favorite
                shows simultaneously, fostering family bonding over shared entertainment.
              </li>
              <li>
                <strong><b>Tailored Canadian Plans:</b></strong> Our subscription plans are crafted with you in mind. Say
                goodbye to hidden fees and hello to transparent, affordable pricing tailored for the
                Canadian mark
              </li>
            </ul>
          </article>

          <section class="multimedia-section flex-grow-1">
            <figure>
              <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/live_tv_sectioin.png" alt="poster" loading="lazy"/>
            </figure>
          </section>
        </section>

        <p class="text-center">
          <button class="custom-btn">Start Streaming Now</button>
        </p>
      </section>

      <section class="border-bottom">
        <section class="section flex padding-y">
          <section class="multimedia-section flex-grow-1">
            <figure>
              <img src="{$WEB_ROOT}/templates/{$template}/customfiles/assets-canada/multi-devices.png" alt="poster" loading="lazy"/>
            </figure>
          </section>

          <article class="flex-grow-1-3 flex-center text-center">
            <h2>Watch Everywhere</h2>
            <p>Stream unlimited movies and TV shows on your phone, tablet, laptop and TV.</p>
          </article>
        </section>
      </section>

      <section class="border-bottom border-bottom-invert">
        <section class="section">
          <section class="padding-y">
            <h2 class="text-center">IPTV Canada Subscription With Adult</h2>
            <p class="text-center">
              <a href="https://iptvuk.vip/index.php?rp=/store/choice-no-adult-packages" class="custom-btn">See All Plans</a>
            </p>
          </section>

          <section class="plans-container pb-0" id="container-1">
          </section>

          <hr class="primary-separator"/>

          <h2 class="text-center mb-2">IPTV Canada Subscription withoutÂ Adult</h2>


          <section class="plans-container" id="container-2">
          </section>

        </section>
      </section>

      <section class="border-bottom">
        <section class="section padding-y">
          <h2 class="text-center">Articles</h2>

          <section class="articles-container">

          </section>
        </section>
      </section>

      <section class="section padding-y">
        <h2 class="text-center">Frequently Asked Questions</h2>

        <div class="accordion"></div>
      </section>
    </main>
  </body>

  <script>

    async function getData (url) {
      const res = await fetch(url)
      const data = await res.text()

      let parsedData = data.replace("<pre>","")
      parsedData = parsedData.replace("</pre>","")
      parsedData = JSON.parse(parsedData)
      return parsedData
    }

    // ------------------------ 
    // PLANS 
    // ------------------------ 
    const planHTML = `
        <article>
        <section class="plan-price text-center">
          <h6>-productName-</h6>
          <h3>-productPrice-</h3>
          <span>-billingCycle-</span>
        </section>

        <section class="plan-detail">
          <p>
            <strong>-detail-</strong>
          </p>
          <p class="text-center"><a class="custom-btn" href="-link-" target="_blank">Order Now</a></p>
        </section>
      </article>

    `;

    async function generatePlans() {
      const plansData = await getData("/getproducts2.php");
      // console.log("PLANS: ",plansData)

      let productsOne = [];
      let productsTwo = [];

      for(let i=0; i<plansData.length; i++) {
        let items = plansData[i].products

        if(items) {
          for(let j=0; j<items.length; j++) {
            let innerItem = items[j]
            if(innerItem.productid === 207 && innerItem.currencycode === 'GBP') {
              productsOne.push(innerItem)
              // break
            }

            if(innerItem.productid === 212 && innerItem.currencycode === 'GBP') {
              productsOne.push(innerItem)
              // break
            }

            if(innerItem.productid === 217 && innerItem.currencycode === 'GBP') {
              productsOne.push(innerItem)
              // break
            }

            // -------------------------------------------
            if(innerItem.productid === 227 && innerItem.currencycode === 'GBP') {
              productsTwo.push(innerItem)
              // break
            }

            if(innerItem.productid === 232 && innerItem.currencycode === 'GBP') {
              productsTwo.push(innerItem)
              // break
            }

            if(innerItem.productid === 237 && innerItem.currencycode === 'GBP') {
              productsTwo.push(innerItem)
              // break
            }
          }
        }

        if(productsOne.length >= 3 && productsTwo.length >= 3) break
      }
     

      function generatePlanHTML(product) {
        let generatedPlan = planHTML.replace("-productName-",product.productname)

        let price = product.productprice.replace("Monthly","")
        price = price.replace("Quarterly","")
        price = price.replace("Semiannually","")

        generatedPlan = generatedPlan.replace("-productPrice-",price)
        generatedPlan = generatedPlan.replace("-billingCycle-",product.billingcycle)

        // console.log("productdescription: ",product.productdescription)
        const patternOne = /\r/gi;
        const replacementOne = "";

        const patternTwo = /\n/gi;
        const replacementTwo = "<br><br>";

        let result = product.productdescription.replace(patternOne, replacementOne);
        result = product.productdescription.replace(patternTwo, replacementTwo);
        generatedPlan = generatedPlan.replace("-detail-",result)

        let url = product.url + '&currency=' + product.currencyid  
        generatedPlan = generatedPlan.replace("-link-",url)
        return generatedPlan
      }


      const plansContainerOne = document.querySelector('.plans-container#container-1')
      const plansContainerTwo = document.querySelector('.plans-container#container-2')

      productsOne.forEach(product => {
        let generatedPlan = generatePlanHTML(product)
        plansContainerOne.insertAdjacentHTML("beforeEnd",generatedPlan)
      })

      productsTwo.forEach(product => {
        let generatedPlan = generatePlanHTML(product)
        plansContainerTwo.insertAdjacentHTML("beforeEnd",generatedPlan)
      })



      // console.log("PRODUCTS: ",productsTwo)

    }

    generatePlans()

    // ------------------------
    // FAQS
    // ------------------------

    function addToggleFunctionalityToFAQs () {
      const items = document.querySelectorAll(".accordion button");

      function toggleAccordion() {
        const itemToggle = this.getAttribute("aria-expanded");

        for (i = 0; i < items.length; i++) {
          items[i].setAttribute("aria-expanded", "false");
        }

        if (itemToggle == "false") {
          this.setAttribute("aria-expanded", "true");
        }
      }

      items.forEach((item) => item.addEventListener("click", toggleAccordion));
    }

    const faqsContainer = document.querySelector(".accordion");
    const faqHTML =  `
      <div class="accordion-item">
        <button aria-expanded="false">
          <span class="accordion-title">
            -faqQuestion-
          </span>
          <span class="icon" aria-hidden="true"></span>
        </button>

        <div class="accordion-content">
          <p>
            -faqAnswer-
          </p>
        </div>
      </div>
    `;

    async function generateFAQs() {
      const faqsData = await getData("/whmcms_faq.php");
      faqsData.forEach(faq => {
          let generatedFAQ = faqHTML.replace("-faqQuestion-",faq.question)
          generatedFAQ = generatedFAQ.replace("-faqAnswer-",faq.answer)
          faqsContainer.insertAdjacentHTML("beforeEnd",generatedFAQ)
      }) 

      addToggleFunctionalityToFAQs()      
    }

    generateFAQs()

    // ------------------------ 
    // ARTICLES 
    // ------------------------ 
    const articlesContainer = document.querySelector(".articles-container")
    const articleHTML = `
      <article id="art-articleId-">
        <a href="-articleLink-" target="_blank">
          <figure>
            <img
              src="-articleImg-"
              alt="article"
              loading="lazy"
            />
          </figure>

          <div class="art-content">
            <p>-articleTitle-</p>
          </div>
        </a>
      </article>
    `;

    async function generateArticles() {
      const articlesData = await getData("/whmcms_portfolio.php");
      articlesData.forEach(article => {
        let generatedArticle = articleHTML.replace("-articleId-",article.projectid)
        generatedArticle = generatedArticle.replace("-articleLink-",article.url)
        generatedArticle = generatedArticle.replace("-articleImg-",article.logo)
        generatedArticle = generatedArticle.replace("-articleTitle-",article.title)
        articlesContainer.insertAdjacentHTML("beforeEnd",generatedArticle)
      })
    }

    generateArticles();

  </script>
</html>
